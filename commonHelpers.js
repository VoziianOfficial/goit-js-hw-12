import{a as m,i as d}from"./assets/vendor-ae6d56ab.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();const h="11359528-a3a233b98fbb1427184d51103";async function u(i,r=1,n=15){try{return(await m.get(BASE_URL,{params:{key:h,q:i,page:r,per_page:n,image_type:"photo",orientation:"horizontal"}})).data}catch(o){throw console.error("Error fetching images:",o),o}}function f(i){const r=document.querySelector(".articles"),n=i.map(o=>`
            <li>
                <img src="${o.webformatURL}" alt="${o.tags}" />
                <a href="${o.largeImageURL}" target="_blank">View</a>
            </li>`).join("");r.insertAdjacentHTML("beforeend",n)}function g(){document.querySelector(".button").classList.remove("is-hidden")}function c(){document.querySelector(".button").classList.add("is-hidden")}function y(){iziToast.info({title:"No more results",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})}let a=1,l="";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".form-inline"),r=document.querySelector('[data-action="load-more"]'),n=document.querySelector(".loader-div"),o=document.querySelector(".articles");i.addEventListener("submit",async e=>{if(e.preventDefault(),l=e.target.query.value.trim(),!!l){a=1,o.innerHTML="",n.style.display="none";try{const s=await u(l,a);s.totalHits>0?(f(s.hits),a++,g(),s.totalHits<=15&&c()):c()}catch{d.error({title:"Error",message:"Something went wrong while fetching images.",position:"topRight"})}}}),r.addEventListener("click",async()=>{r.disabled=!0,n.style.display="flex";try{const e=await u(l,a);e.hits.length>0?(f(e.hits),a++,e.totalHits<=a*15&&(c(),y())):c()}catch{d.error({title:"Error",message:"Something went wrong while fetching images.",position:"topRight"})}finally{n.style.display="none",r.disabled=!1,t()}});function t(){const e=document.querySelector(".articles li").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}});
//# sourceMappingURL=commonHelpers.js.map
